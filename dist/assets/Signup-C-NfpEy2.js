import{u as W,a as K,r as l,B as r,b as d,j as e}from"./index-DhLjg7ZU.js";import{p as Q}from"./PaymentUsingRazorpay-CYOLMId5.js";import{P as Z}from"./PriorityDragable-CKX2saIV.js";import{d as j}from"./ArrowForwardIos-DNXjr_Nr.js";const se=()=>{const{dispatch:o,store:{successResponseData:b,MyDetails:f}}=W(),{refer:F}=K(),[s,S]=l.useState(null),[p,O]=l.useState(["recharge","nextInvest","withdraw"]),[E,P]=l.useState([]),[R,V]=l.useState([]),[k,M]=l.useState([]),[a,m]=l.useState({name:"Bhuwneshwar Mandal",age:24,gender:"male",phoneNumber:"62050",email:"krabi6563@gmail.com",phoneOtp:"",emailOtp:"",diamond:6,golden:6,rechNum1:"62050",rechNum2:"",rechNum3:"",opera1:"",opera2:"",opera3:"",state1:"Bihar",state2:"",state3:"",ExistingValidityOne:0,ExistingValiditytwo:0,ExistingValiditythree:0,autoRecharge:!0,transactionMethod:"none",autoWithdraw:!1,upi:"",ifsc:"",bank:"",confirmBank:"",NextInvest:!1,refer:F,setRefer:"",priority:p,withdraw_perc:60,SelectedPlan1:"",SelectedPlan2:"",SelectedPlan3:""}),I=async()=>{try{const{data:n}=await d.get("/api/v1/registration");console.log({data:n}),S({...n}),m(t=>({...t,setRefer:n.UniqueReferCode}))}catch(n){console.log(n),r.error("Failed to load initial data",{position:"top-center"})}};l.useEffect(()=>{I()},[]),l.useEffect(()=>{m(n=>({...n,priority:p}))},[s,p]);const w=async n=>{try{console.log(JSON.stringify(a,null,2)),o("loading",!0);const t=await d.post("/api/v1/registration",{...a,age:+a.age,golden:+a.golden,diamond:+a.diamond,ExistingValidityOne:+a.ExistingValidityOne,ExistingValiditytwo:+a.ExistingValiditytwo,ExistingValiditythree:+a.ExistingValiditythree,withdraw_perc:+a.withdraw_perc,from:n},{withCredentials:!0});if(console.log({data:t.data}),t.data.success){const{key:c,name:h,email:X,contact:z,order:H}=t.data;Q({key:c,name:h,email:X,contact:z,order:H,callBackFunction:D})}t.data.requestBalancePin&&(r.warning("Please Enter your Balance PIN"),o("balancePinModel",!0),o("balancePinFormData",JSON.stringify(t.data))),t.data.error&&r.error(t.data.error,{position:"bottom-center"})}catch(t){console.log(t),r.error("Something went wrong! maybe invalid data",{position:"bottom-center"})}o("loading",!1)},D=async n=>{try{o("loading",!0);const t=await d.post("/api/v1/payment/verification",n,{withCredentials:!0});console.log({res:t}),t.data.success&&(r.success("Registration successful",{position:"bottom-center"}),C(t.data.username)),t.data.error&&r.error(t.data.error,{position:"bottom-center"})}catch(t){console.log(t),r.error(t.message,{position:"bottom-center"})}o("loading",!1)};l.useEffect(()=>{try{if(b){const n=JSON.parse(b);console.log({objData:n}),n.type==="new-user-register"&&(r.success("Registration successful",{position:"bottom-center"}),f&&o("MyDetails",{...f,Balance:n.Balance}),C(n.username))}}catch(n){console.log(n)}},[b]);const C=async n=>{try{o("loading",!0);const{data:t}=await d.get("/api/v1/pdf/"+n,{withCredentials:!0});if(console.log({data:t}),t.success){r.success("Auto-Net card generated successfully for 1 minutes!",{position:"bottom-center"});const c=window.location.protocol,h=c+"//"+window.location.hostname+":"+t.port+t.path;console.log({hostUrl:h,protocol:c}),window.open(h,"_blank")}t.error&&r.error(t.error,{position:"bottom-center"})}catch(t){console.log(t),r.error(t.message,{position:"bottom-center"})}o("loading",!1)},T=async()=>{try{if(/([5-9]{1}[0-9]{9})$/.test(a.rechNum1)){const n=a.rechNum1.match(/([5-9]{1}[0-9]{9})$/);if(n!=null&&n.length){const t=n[0],{data:c}=await d.get(`/api/v1/check/number/?mob=${t}`);console.log({data:c})}}}catch(n){console.log(n)}};l.useEffect(()=>{T()},[a.rechNum1]);const A=async()=>{try{if(/([5-9]{1}[0-9]{9})$/.test(a.rechNum2)){const n=a.rechNum2.match(/([5-9]{1}[0-9]{9})$/);if(n!=null&&n.length){const t=n[0],{data:c}=await d.get(`/api/v1/check/number/?mob=${t}`);console.log({data:c})}}}catch(n){console.log(n)}};l.useEffect(()=>{A()},[a.rechNum2]);const B=async()=>{try{if(/([5-9]{1}[0-9]{9})$/.test(a.rechNum3)){const n=a.rechNum3.match(/([5-9]{1}[0-9]{9})$/);if(n!=null&&n.length){const t=n[0],{data:c}=await d.get(`/api/v1/check/number/?mob=${t}`);console.log({data:c})}}}catch(n){console.log(n)}};l.useEffect(()=>{B()},[a.rechNum3]);const v=n=>n==="jio"?(s==null?void 0:s.RechargePlans.jio)||[]:n==="airtel"?(s==null?void 0:s.RechargePlans.airtel)||[]:n==="bsnl"?(s==null?void 0:s.RechargePlans.bsnl)||[]:n==="mtnl delhi"?(s==null?void 0:s.RechargePlans.mtnlDelhi)||[]:n==="mtnl mumbai"?(s==null?void 0:s.RechargePlans.mtnlMumbai)||[]:n==="vi"?(s==null?void 0:s.RechargePlans.vi)||[]:[];l.useEffect(()=>{P(v(a.opera1))},[a.opera1]),l.useEffect(()=>{V(v(a.opera2))},[a.opera2]),l.useEffect(()=>{M(v(a.opera3))},[a.opera3]);const i=n=>{const{name:t,value:c}=n.target;m(h=>({...h,[t]:c}))};function u(n){const t=Math.floor(n/1e3),c=String(Math.floor(t/60)).padStart(2,"0"),h=String(t%60).padStart(2,"0");return`Please wait: ${c}:${h} seconds`}const[$,N]=l.useState("");let x;const U=async()=>{try{o("loading",!0);const n=await d.post("/api/v1/phone/otp/send",{contact:a.phoneNumber});if(console.log({...n.data}),n.data.success&&(m({...a,phoneOtp:n.data.otp,phoneNumber:n.data.contact}),r.success("Otp sent successfully",{position:"bottom-center"})),n.data.error&&r.error(n.data.error,{position:"bottom-center"}),n.data.dueTimeMs){let t=n.data.dueTimeMs;N(u(t)),x&&clearInterval(x),x=setInterval(()=>{t-=1e3,t<0?(clearInterval(x),N("")):N(u(t))},1e3),r.warning(u(t),{position:"bottom-center"})}}catch(n){console.log(n),r.error("Failed to send Otp",{position:"bottom-center"})}o("loading",!1)},J=async()=>{try{o("loading",!0);const n=await d.post("/api/v1/phone/otp/verify",{contact:a.phoneNumber,userOtp:a.phoneOtp});console.log({...n.data}),n.data.success&&r.success("Phone verified successfully",{position:"bottom-center"}),n.data.warning&&r.warning(n.data.warning,{position:"bottom-center"}),n.data.error&&r.error(n.data.error,{position:"bottom-center"})}catch(n){console.log(n),r.error("Failed to Verify the phone",{position:"bottom-center"})}o("loading",!1)},[_,y]=l.useState("");let g;const L=async()=>{try{o("loading",!0);const n=await d.post("/api/v1/email/otp/send",{email:a.email});if(console.log({res:n.data}),n.data.success&&(r.success("Otp sent successfully",{position:"bottom-center"}),m({...a,emailOtp:n.data.otp})),n.data.warning&&r.warning(n.data.warning,{position:"bottom-center"}),n.data.error&&r.error(n.data.error,{position:"bottom-center"}),n.data.dueTimeMs){let t=n.data.dueTimeMs;y(u(t)),g&&clearInterval(g),g=setInterval(()=>{t-=1e3,t<0?(clearInterval(g),y("")):y(u(t))},1e3),r.warning(u(t),{position:"bottom-center"})}}catch(n){console.log(n),r.error("Failed to send Otp",{position:"bottom-center"})}o("loading",!1)},G=async()=>{try{o("loading",!0);const n=await d.post("/api/v1/email/otp/verify",{email:a.email,userOtp:a.emailOtp});console.log({res:n.data}),n.data.success&&r.success("Email verified successfully",{position:"bottom-center"}),n.data.warning&&r.warning(n.data.warning,{position:"bottom-center"}),n.data.error&&r.error(n.data.error,{position:"bottom-center"})}catch(n){console.log(n),r.error("Failed to verify email",{position:"bottom-center"})}o("loading",!1)},Y=n=>{m(t=>({...t,rechNum1:t.phoneNumber})),n.target.select()},q=n=>{O(()=>n)};return s&&e.jsx("div",{className:"signup-form",children:e.jsx("form",{onSubmit:n=>n.preventDefault(),children:e.jsxs("div",{className:"bg-white",children:[e.jsx("h1",{children:f?"Add New User":"Sign-up Form"}),e.jsxs("div",{className:"biog",children:[e.jsxs("div",{className:"border-label",children:[e.jsx("label",{htmlFor:"name",children:"Name : "}),e.jsx("input",{onChange:i,name:"name",id:"name",value:a.name,placeholder:"Enter Name here..."})]}),e.jsxs("div",{className:"border-label",children:[e.jsx("label",{htmlFor:"age",children:"Age : "}),e.jsx("input",{onChange:i,type:"number",name:"age",id:"age",value:a.age,placeholder:"e.g. 22.5"})]}),e.jsxs("div",{className:"border-label",children:[e.jsx("label",{htmlFor:"gender",children:"Gender : "}),e.jsxs("select",{name:"gender",value:a.gender,onChange:i,id:"gender",children:[e.jsx("option",{value:"0",children:"Select"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"}),e.jsx("option",{value:"kuchv",children:"kuchv"})]})]})]}),e.jsxs("div",{className:"contact-info",children:[e.jsxs("div",{className:"border-label",children:[e.jsx("label",{htmlFor:"number",children:"Phone Number : "}),e.jsxs("div",{className:"num-btn",children:[e.jsx("input",{onChange:i,type:"number",name:"phoneNumber",id:"number",value:a.phoneNumber}),e.jsx("button",{onClick:U,children:e.jsx(j,{})})]}),e.jsx("p",{className:"error",children:$})]}),e.jsxs("div",{className:"border-label",children:[e.jsx("label",{htmlFor:"phoneOtp",children:"OTP: "}),e.jsxs("div",{className:"num-btn",children:[e.jsx("input",{name:"phoneOtp",onChange:i,id:"phoneOtp",value:a.phoneOtp,placeholder:"Enter OTP",className:"otp-input"}),e.jsxs("button",{onClick:J,children:["Verify",e.jsx(j,{})]})]})]})]}),e.jsxs("div",{className:"contact-info",children:[e.jsxs("div",{className:"border-label email",children:[e.jsx("label",{htmlFor:"email",children:"Email : "}),e.jsxs("div",{className:"num-btn",children:[e.jsx("input",{onChange:i,type:"email",name:"email",id:"email",value:a.email}),e.jsxs("button",{onClick:L,children:[" ",e.jsx(j,{})]})]}),e.jsx("p",{className:"error",children:_})]}),e.jsxs("div",{className:"border-label ",children:[e.jsx("label",{htmlFor:"emailOtp",children:"OTP : "}),e.jsxs("div",{className:"num-btn",children:[e.jsx("input",{onChange:i,name:"emailOtp",id:"emailOtp",value:a.emailOtp,placeholder:"Enter OTP",className:"otp-input"}),e.jsxs("button",{onClick:G,children:["Verify",e.jsx(j,{})]})]})]})]}),e.jsxs("div",{className:"choose-fund",children:[e.jsx("h2",{children:"Choose Funds"}),e.jsxs("div",{className:"notes",children:[e.jsxs("div",{className:"diamond note",children:[e.jsx("label",{htmlFor:"diamond",children:"Diamond : "}),e.jsxs("select",{onChange:i,name:"diamond",id:"diamond",value:a.diamond,children:[e.jsx("option",{value:"0",children:"0"}),s==null?void 0:s.diamond.map((n,t)=>e.jsxs("option",{value:n,children:[n," X 1000"]},t))]}),e.jsxs("p",{children:["Invest: ",a.diamond*1e3,"; Return:"," ",a.diamond*2e3," in av. 3 months"]})]}),e.jsxs("div",{className:"golden note",children:[e.jsx("label",{htmlFor:"golden",children:"Golden : "}),e.jsxs("select",{value:a.golden,onChange:i,name:"golden",id:"golden",children:[e.jsx("option",{value:"0",children:"0"}),s==null?void 0:s.golden.map((n,t)=>e.jsxs("option",{value:n,children:[n," X 500"]},t))]}),e.jsxs("p",{children:["Invest: ",a.golden*500,"; Return:"," ",a.golden*1e3," in av. 3 months"]})]})]}),e.jsxs("p",{children:["Total Invest: ",a.diamond*1e3+a.golden*500," ","Return: ",a.golden*1e3+a.diamond*2e3," in av. 3 months"]})]}),e.jsxs("div",{className:"rech-for-num",children:[e.jsx("h2",{children:"Recharge for numbers"}),e.jsxs("div",{className:"responsive",children:[e.jsxs("div",{className:"num",children:[e.jsx("label",{htmlFor:"rechNum1",children:"Recharge For Number 1"}),e.jsx("input",{type:"number",onChange:i,name:"rechNum1",id:"rechNum1",onFocus:Y,value:a.rechNum1,placeholder:"Recharge num 1"})]}),e.jsxs("div",{className:"opera",children:[e.jsx("label",{htmlFor:"opera1",children:" Operator For Number 1"}),e.jsxs("select",{value:a.opera1,onChange:i,name:"opera1",id:"opera1",children:[e.jsx("option",{value:"",children:"Select Operator"}),s==null?void 0:s.operators.map(n=>e.jsx("option",{value:n,children:n}))]})]}),e.jsxs("div",{className:"opera",children:[e.jsx("label",{htmlFor:"state1",children:" State For Number 1"}),e.jsxs("select",{value:a.state1,onChange:i,name:"state1",id:"state1",children:[e.jsx("option",{value:"",children:"Select State"}),s==null?void 0:s.states.map(n=>e.jsx("option",{value:n,children:n}))]})]}),e.jsxs("div",{className:"opera",children:[e.jsx("label",{htmlFor:"SelectedPlan1",children:"Plan For Number 1"}),e.jsxs("select",{onChange:i,name:"SelectedPlan1",id:"SelectedPlan1",children:[e.jsx("option",{value:"",children:"Select Plan"}),E.map(n=>e.jsxs("option",{className:"plans",value:JSON.stringify(n),children:["PRICE:",n.price," VALIDITY :",n.validity," Data:",n.data]}))]})]}),e.jsxs("div",{className:"num",children:[e.jsx("label",{htmlFor:"ExistingValidityOne",children:"Existing Plan Validity 1"}),e.jsx("input",{type:"number",name:"ExistingValidityOne",id:"ExistingValidityOne",min:0,max:365,onChange:i,value:a.ExistingValidityOne,placeholder:"Existing Validity "})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"responsive",children:[e.jsxs("div",{className:"num",children:[e.jsx("label",{htmlFor:"rechNum2",children:"Recharge For Number 2"}),e.jsx("input",{type:"number",onChange:i,name:"rechNum2",id:"rechNum2",value:a.rechNum2,placeholder:"Recharge num 2"})]}),e.jsxs("div",{className:"opera",children:[e.jsx("label",{htmlFor:"opera2",children:" Operator For Number 2"}),e.jsxs("select",{value:a.opera2,onChange:i,name:"opera2",id:"opera2",children:[e.jsx("option",{value:"",children:"Select Operator"}),s==null?void 0:s.operators.map(n=>e.jsx("option",{value:n,children:n}))]})]}),e.jsxs("div",{className:"opera",children:[e.jsx("label",{htmlFor:"state2",children:" State For Number 2"}),e.jsxs("select",{value:a.state2,onChange:i,name:"state2",id:"state2",children:[e.jsx("option",{value:"",children:"Select State"}),s==null?void 0:s.states.map(n=>e.jsx("option",{value:n,children:n}))]})]}),e.jsxs("div",{className:"opera",children:[e.jsx("label",{htmlFor:"SelectedPlan2",children:"Plan For Number 2"}),e.jsxs("select",{onChange:i,name:"SelectedPlan2",id:"SelectedPlan2",children:[e.jsx("option",{value:"",children:"Select Plan"}),R.map(n=>e.jsxs("option",{className:"plans",value:JSON.stringify(n),children:["PRICE:",n.price," VALIDITY :",n.validity," Data:",n.data]}))]})]}),e.jsxs("div",{className:"num",children:[e.jsx("label",{htmlFor:"ExistingValiditytwo",children:"Plan Validity Number 2"}),e.jsx("input",{type:"number",name:"ExistingValiditytwo",id:"ExistingValiditytwo",min:0,max:365,onChange:i,value:a.ExistingValiditytwo,placeholder:"Existing Validity "})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"responsive",children:[e.jsxs("div",{className:"num",children:[e.jsx("label",{htmlFor:"rechNum3",children:"Recharge For Number 3"}),e.jsx("input",{type:"number",onChange:i,name:"rechNum3",id:"rechNum3",value:a.rechNum3,placeholder:"Recharge num 3"})]}),e.jsxs("div",{className:"opera",children:[e.jsx("label",{htmlFor:"opera3",children:" Operator For Number 3"}),e.jsxs("select",{value:a.opera3,onChange:i,name:"opera3",id:"opera3",children:[e.jsx("option",{value:"",children:"Select Operator"}),s==null?void 0:s.operators.map(n=>e.jsx("option",{value:n,children:n}))]})]}),e.jsxs("div",{className:"opera",children:[e.jsx("label",{htmlFor:"state3",children:" State For Number 3"}),e.jsxs("select",{value:a.state3,onChange:i,name:"state3",id:"state3",children:[e.jsx("option",{value:"",children:"Select State"}),s==null?void 0:s.states.map(n=>e.jsx("option",{value:n,children:n}))," "]})]}),e.jsxs("div",{className:"opera",children:[e.jsx("label",{htmlFor:"SelectedPlan3",children:"Plan For Number 3"}),e.jsxs("select",{onChange:i,name:"SelectedPlan3",id:"SelectedPlan3",children:[e.jsx("option",{value:"",children:"Select Plan"}),k.map(n=>e.jsxs("option",{className:"plans",value:JSON.stringify(n),children:["PRICE:",n.price," VALIDITY :",n.validity," Data:",n.data]}))]})]}),e.jsxs("div",{className:"num",children:[e.jsx("label",{htmlFor:"ExistingValiditythree",children:"Existing Plan Validity 3"}),e.jsx("input",{type:"number",name:"ExistingValiditythree",id:"ExistingValiditythree",min:0,max:365,onChange:i,value:a.ExistingValiditythree,placeholder:"Existing Validity "})]})]})]}),e.jsxs("div",{className:"rech-for-num",children:[e.jsx("h2",{children:"Accounts Information"}),e.jsxs("div",{className:"responsive",children:[e.jsxs("div",{className:"select-box",children:[e.jsx("label",{htmlFor:"transactionMethod",children:"Transaction Method"}),e.jsxs("select",{onChange:i,value:a.transactionMethod,name:"transactionMethod",id:"transactionMethod",children:[e.jsx("option",{value:"none",children:"None"}),s==null?void 0:s.transactionMethods.map(n=>e.jsx("option",{value:n,children:n}))]})]}),e.jsxs("div",{style:{display:a.transactionMethod==="upi"||a.transactionMethod==="both"?"block":"none"},className:"input-text",children:[e.jsx("label",{htmlFor:"upi",children:"UPI ID/UPI Phone Number"}),e.jsx("input",{onChange:i,name:"upi",id:"upi",value:a.upi,placeholder:"upi"})]}),e.jsxs("div",{style:{display:a.transactionMethod==="net banking"||a.transactionMethod==="both"?"block":"none"},className:"input-text",children:[e.jsx("label",{htmlFor:"ifsc",children:"IFSC Code"}),e.jsx("input",{onChange:i,name:"ifsc",id:"ifsc",value:a.ifsc,placeholder:"IFSC code"})]}),e.jsxs("div",{style:{display:a.transactionMethod==="net banking"||a.transactionMethod==="both"?"block":"none"},className:"input-text",children:[e.jsx("label",{htmlFor:"account",children:"Account Number"}),e.jsx("input",{onChange:i,name:"bank",id:"account",value:a.bank,placeholder:"Account number"})]}),e.jsxs("div",{style:{display:a.transactionMethod==="net banking"||a.transactionMethod==="both"?"block":"none"},className:"input-text",children:[e.jsx("label",{htmlFor:"confirm-account",children:"Confirm Account Number"}),e.jsx("input",{onChange:i,name:"confirmBank",id:"confirm-account",value:a.confirmBank,placeholder:"Confirm Account number"})]})]})]}),e.jsx("h3",{children:"Username Code "}),e.jsxs("div",{className:"responsive ",children:[e.jsxs("div",{className:"input-text refer-code",children:[e.jsx("label",{htmlFor:"refered-id",children:"Referral Username ID"}),e.jsx("input",{name:"refer",onChange:i,id:"refered-id",value:a.refer})]}),e.jsxs("div",{className:"input-text refer-code",children:[e.jsx("label",{htmlFor:"refered-id",children:"Make New Username ID"}),e.jsx("input",{name:"setRefer",onChange:i,id:"",value:a.setRefer})]})]}),e.jsxs("section",{className:"tips",children:[e.jsx("h4",{children:"Tips:"}),e.jsx("h5",{children:" 👉Do Phone Number Recharge Free"}),e.jsx("li",{children:'Enable and drag and put first priority to the "Auto recharge All Numbers"'}),e.jsx("li",{children:' enable the "Auto Reserve balance for next invest"'}),e.jsx("li",{children:' disable the "Auto withdraw balance"'}),e.jsx("h5",{children:"👉Do Money Double"}),e.jsx("li",{children:'Enable and drag and put first priority to the "Auto withdraw balance"'}),e.jsx("li",{children:" withdraw Slide Range to 100%"}),e.jsx("li",{children:'disable the "Auto recharge All Numbers"'}),e.jsx("li",{children:'disable the "Auto Reserve balance for next invest"'})]}),e.jsxs("div",{className:"priority-order",children:[e.jsx("h2",{children:" Priority order "}),e.jsx(Z,{array:p,setArray:q,changeHandler:i,details:a,setDetails:m})]}),e.jsxs("div",{className:"btns",children:[e.jsx("button",{onClick:()=>w(),children:"INVEST"}),e.jsx("button",{onClick:()=>w("balance"),children:"INVEST FROM BALANCE"})]})]})})})};export{se as default};
