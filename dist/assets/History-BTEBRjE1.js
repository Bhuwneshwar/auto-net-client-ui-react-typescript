import{e as a,i as t,j as e,u as $,r as f,L as R,h as H,k as N,b as x,B as s}from"./index-BZ3Ke3M-.js";import{f as z}from"./formatDate-C7W8eSx1.js";import{d as A}from"./Send-Bi0AwUdW.js";var o={},C=t;Object.defineProperty(o,"__esModule",{value:!0});var i=o.default=void 0,D=C(a()),F=e;i=o.default=(0,D.default)((0,F.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet");var n={},S=t;Object.defineProperty(n,"__esModule",{value:!0});var g=n.default=void 0,q=S(a()),L=e;g=n.default=(0,q.default)((0,L.jsx)("path",{d:"M20 5.41 18.59 4 7 15.59V9H5v10h10v-2H8.41z"}),"CallReceived");var d={},V=t;Object.defineProperty(d,"__esModule",{value:!0});var y=d.default=void 0,B=V(a()),I=e;y=d.default=(0,B.default)((0,I.jsx)("path",{d:"M19 1H9c-1.1 0-2 .9-2 2v3h2V4h10v16H9v-2H7v3c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2M7.01 13.47l-2.55-2.55-1.27 1.27L7 16l7.19-7.19-1.27-1.27z"}),"MobileFriendly");var u={},O=t;Object.defineProperty(u,"__esModule",{value:!0});var l=u.default=void 0,P=O(a()),E=e;l=u.default=(0,P.default)((0,E.jsx)("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance");var v={},b=t;Object.defineProperty(v,"__esModule",{value:!0});var _=v.default=void 0,k=b(a()),p=e;_=v.default=(0,k.default)([(0,p.jsx)("path",{d:"M19.03 3.56c-1.67-1.39-3.74-2.3-6.03-2.51v2.01c1.73.19 3.31.88 4.61 1.92zM11 3.06V1.05c-2.29.2-4.36 1.12-6.03 2.51l1.42 1.42C7.69 3.94 9.27 3.25 11 3.06M4.98 6.39 3.56 4.97C2.17 6.64 1.26 8.71 1.05 11h2.01c.19-1.73.88-3.31 1.92-4.61M20.94 11h2.01c-.21-2.29-1.12-4.36-2.51-6.03l-1.42 1.42c1.04 1.3 1.73 2.88 1.92 4.61M7 12l3.44 1.56L12 17l1.56-3.44L17 12l-3.44-1.56L12 7l-1.56 3.44z"},"0"),(0,p.jsx)("path",{d:"M12 21c-3.11 0-5.85-1.59-7.46-4H7v-2H1v6h2v-2.7c1.99 2.84 5.27 4.7 9 4.7 4.87 0 9-3.17 10.44-7.56l-1.96-.45C19.25 18.48 15.92 21 12 21"},"1")],"AutoMode");const U=()=>{const{dispatch:c,store:{MyDetails:m}}=$(),[h,M]=f.useState([]);console.log({recent:h});const j=async()=>{try{c("loading",!0);const{data:r}=await x.get("/api/v1/history",{withCredentials:!0});console.log("history loaded",{data:r}),r.success?(M(r.histories),s.success("History loaded successfully",{position:"bottom-center"})):r.error&&s.error(r.error,{position:"bottom-center"})}catch(r){x.isAxiosError(r)?s.error(r.message,{position:"bottom-center"}):s.error("An unexpected error occurred",{position:"bottom-center"}),console.log(r)}c("loading",!1)};return f.useEffect(()=>{m&&c("MyDetails",{...m,unreadHistoriesCount:0}),j()},[]),e.jsx("div",{className:"history",children:h.reverse().map(r=>e.jsxs(R,{to:"/messages/"+r.id,className:r.category==="income"?"recent-history income":"recent-history expense",children:[e.jsxs("div",{className:"ids",children:[e.jsx("figure",{children:e.jsx("p",{children:r.name?r.name[0]:0})}),e.jsxs("div",{className:"info",children:[e.jsxs("div",{className:"names",children:[e.jsx("p",{className:"paid",children:r.category==="income"?"Received From":"Paid to"}),e.jsx("p",{className:"name",children:r.name})]}),e.jsxs("div",{className:"amount",children:[e.jsxs("p",{children:["â‚¹",H(r.amount)," ",r.category==="income"?"(+)":"(-)"]}),e.jsxs("p",{className:"type",children:[r.subcategory==="invest"&&e.jsxs(e.Fragment,{children:[e.jsx(_,{}),r.subcategory]}),r.subcategory==="userSend"&&e.jsxs(e.Fragment,{children:[e.jsx(A,{}),r.subcategory]}),r.subcategory==="withdrawOnBank"&&e.jsxs(e.Fragment,{children:[e.jsx(l,{}),r.subcategory]}),r.subcategory==="recharge"&&e.jsxs(e.Fragment,{children:[e.jsx(y,{}),r.subcategory]}),r.subcategory==="referralAmount"&&e.jsxs(e.Fragment,{children:[e.jsx(N,{}),r.subcategory]}),r.subcategory==="topUpAmount"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{}),r.subcategory]}),r.subcategory==="userAmount"&&e.jsxs(e.Fragment,{children:[e.jsx(g,{}),r.subcategory]})]})]})]})]}),e.jsxs("div",{className:"dates",children:[e.jsxs("p",{className:"date",children:[" ",z(r.date)]}),e.jsxs("p",{className:"from",children:[r.category==="income"?"Credited to":"Debited from",r.from==="balance"?e.jsx(i,{}):r.from==="bank"?e.jsx(l,{}):r.from]})]})]},r._id))})};export{U as default};
